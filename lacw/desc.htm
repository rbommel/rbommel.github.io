<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"58a61f1266f03b84b9150cd1e92c1b1ca3a1f10f7a311b9cee8342356960548418d4f17e0e25580516ccc55382ea0c25b3151e9c0f7381351c4588e86a367e53b8be3c112fd042ea22347360760cabdff2aff183aac466c9b58ffdbd36cd09f14a24ef74ad9604c9d3f534822bc6b5fe845c4c5a45485391a59065b7d79e9c215750c8e36cb178f1afe286c050c3259481d97136a21c0b265283f10ee67fcf8e6cf636f0ad8cff0b7ab36c21c1fec878d934917f1643e8c84847140ce49400e9ea3404494071f12391507cfc83cd6a316063edee3d0f1f0df0978149f0a09620f0042cff7401d122a0e65e8df1506b21840026e8c399426b5190a8bb72d3024702f8ccf5ec8d92324eb3c01ddc2e4ef588b18678167c63aa3ae57eb4c96976965f26d1556e37b7142ac4dc0b96268dbef8a85ade4c2763f0682feebfacec8e0c03bc30c5bd8106b8d299d858555e2327f33efab1792b65d738488012912e5d4bda95a2b451a88086750ffe20baaa1c728e3a01c0e359f3628f7e779691c8bf225470b3a3b9d9503c6b1da567c39ec96a6e75cbddb7e700120502e08d3beefe9b8efa7dfb6a59cf6ae1fdc2b43e9236697db5f4e23ccfb48bfe6b1a7ee971498832b3b06b962bdaafa6a6f6b47025cf604422c9d69362c63aa1a8ce871ba8755e55a8fc964c8982359bea9362a22be938db4993d0f4e66df6a6e41bb0c9fe2f8a0402973ec6a1c8fde0d1616ef38118301fd3b5a5387f2f86685179428ad35212d720ea76b7547cce4ddbe2c9692da018dfadd50bf6a3fd01281ceb2bbe27fba89204ed5c9c234152a2e2502a842bf0fdddb83b7714843d045a880557a8b7b0410436858241fccfcbfce3244a4523613d7e696fdb5dde7c065c9ff73f40fec874a69b7c777d2eebbacdb1be6e8c1d5eb74ece01b312262a6865839532a765b310e0bb10456c4b95abc08a727f6a32b8584b116c328d6bfce52c4e2341dcee0638227edb9ded58429307820a27165396fd30d6395b2fc7afa422709ff904df204668de746df089c9c697411bbe19f707ccbf90e0a1178d25095dd9e2919b616ec440e93fbf987dbc25b1b89eee14cedd358e1b4b6ead10852fb458d31698a353507688b159a5a2f9f185c82918ac592d4d8cb71bff5bea253fc103d6891db4f2abcd8abbf49a1d7af074f0d850e218decb94ac9c7558fab5b6bf0400bcb594a238759baa1b14a1285e5152c6746b570b24bbebf693cd43c1131bb8c0b12608bbb6920bbbeb9ed5c98d950e9ef61821bc9e20bf068e91384f1a7772d4884b017c774526984a62cdd3a4a3756463ed4c2855f922ea09686db2ccd6feec878cfef1633d1b97b32944a377eece0444819afe5c484e6a5834300b09caec0e37dd8b441d373e3464bd6ef5822adb6454bcda9e2b18f5b456e87ad7b51420c18c4cf6b0e77d3986c71b90bad9581ad68071666619380dd060623ec8c1520a2f6deb58bfa914c1722e32038dccbd041e6dad84adc11e7275b47af78f0e0b7d95d42ef217922a3272b695929610edb809ba62b961189a73f15af513843b1c2ed3b0239d9f9ec3682172300c93fcca3ea3575958717c54fa26d91cd1fd504369cb5ef880344b3b1c907362a806788cceadbaa761539746ff932993c24db858a11eb308602e32c9c5923b05f33b9fdb2cca034d16009bb35863921d583d65b4fa78146e646a2cb0a2367c7be8505ef5da99fc9ee5fa0a72a47ba0dbd1f3f1f30cdfcd76ed92de4987f99551ec608c8aa98e6b9c4bc7d1ef6b48796dd1dfea20effb9f5e981bd51ec88d72c5dce9253747d302fb140d00e9d87918c33b547121aa0ca26b5e99eaa1abdd12082f785b9000d41b60f26702bd58720612402b1c413f85d7b2ecf3d9af849a46c130a22a40426b6b831d98f57a41482d0491c0b2ed80ee95a90737b09dd8080ee48932f1b6d59c5ded27b5325bd07dfa0cacaa6c1e78932463e0ca28330a9b341bc3af1adc783215990c6bc0a8361bb2dd5d92b54155b9dbb3260eb10668f91800709af65e7dae31df45fba4c34d3594b32c23d0649ea990eb1bf97f4fe2c35fb979f1e5256a7f2df8e2bb513e8a5b2125e89c3fc573c0f343bb6b097fd3b4a57165bc1c8e1fd7e054024fc2d93833267f6313d82ad62fee68a3f6815dedc17d7d647427ba91812755ad8c6b06f56c34eaa6cf059b05af42437f32fbae6c89057c5e52381714e763fbc3f119a0770d9c1f78ae7ab353ceccbbe48f8cd0be3858e9cf7d6d779842dbecc692d473b2da52a335f103eb629d24102da7f136055de26064c9b7845a013214b4ef882aa2d131361ec2436c4ae7faf580755f2b49d9f6773941d32f28d8298b7abe1ca6f8ec6a01cb81ed3e8125739e8f96e6ddff5efe4f12a8f8d9fd04791e0d0ab5c7fba6b4ad01140fc78de07c0784fbec9fce807a70e1cf54994627c41c08353a2e43beb7ca7de1ccdb80649c1ff646ffcc0526b04cdcb64878dd84f61d7e27dc871fc3a1c4e9f7698cfda6f74f4f8c32a43696b0fd28fef75f372405ee4c72b75d5c5d822159005e41e5047e453cada098d2af8be4bb1fbe1ab80c9622d3ef1a3ea2ff57eea196e5bcdb3f4a3eb7a6c47f917704974417d5250f9016a9e5a40606f5f9015af324592c15180ddcf0ea0f7eab74c6de748a67ee4f159c04b5764c94563d5c13e4c0e776a72850d4739307645e16bf6264732d4733e5bc8ace4732dbc7109c09697758517ca42431697ca1135b09d53ca0fa67c3aad5b24bdebe67c86b0d4afbdb38fabfe6869f9bcf80bfdb8395e538befc1e76563ba7162d9d48293bfd71b1f30f39fae863e78d25faf2ca161216a1196f32aba8d8a5cd3cbdf6cbc110f9dcc631210bea754de9ec939e4e7d142770660a2e89fd8ad9ae9fc075b302d9371b255dfb157472ad968c0c2b1d1925f5be746aba5f13f1a6acbfdeb9a6f2173dc68591e0ecf295d76c00d668c5c9c155becf1700c8aa0a9e89b2d81b657fca3c12c88aa1d48a475b67bb66de0318088c5fadf12bad83a0cea10332e7d75af79f9e452b02fc3de00987cf95ff211fafa3d2836e4b670c6b03fe6d9c9572e5ebb41984217cf4e1969eb8ece4c2b6b83b72b3818fdb3b043be1f3bb9a552971d21473236e697ae19a01b50759ad34955b6c15ea74108126fa26673d763b36f666ed5bea42bd2733e85384e3fee6c5ad1d0b045bc84e22f498840b891f27e15e3e731911dcc287af499146ac1660f93adaeba1e91be91c7b338ad63ddbf4bc4cb6f1debf3cf558ccce6fa0851921d637eca611f6cc9943a96ff93c68228b85d5d0d044b943821e36e05c2e5f2a3c944210ae5a9bb15d61888d3288e5d9bb83897f3f818e390bae0ee74ea9f623f643cdb782f4cf65b5cde59ef41e017f930c8eeaf18de6fab782f3f8d72cd5e219647c5b65f7ed2d05c41884b2fc10f48ccc402fe29217c9b6608ac7f0c22bdff9f4654ad2e0f46dfab2749ae1e53032f8ef7de6afbc73503f226f68567193fb0d9834298650f60f58b62004d97890005597057377972dab02a1b4c2ad67cd3f45a1ab838c4246c931d583cdc3633cf7b95a80a03996428237af1d9f3b4ec049a520649390580e0d6ce499ae75c1f09e3ff8dda888ea2aa9ffd7fb71a04a8c5cade554c86add4fb0ee5b79b06c9e7efa0c4ba0f82003cbfff653abf083dc5a98162bdf9d32892c6141c3586d8e637781b5d863d281d1bb8b23b42c7116c132c81964233117152d80bc6dd1076619d69f47fb8eabd50f372429b7904f4f343b9c30409343c5c3cdde5069e43388754741f4dadef1b20b11a22deb2379cd89f57959694c50e5e098fdf630c97d1e5f76982e2af6169f44fb091bc7ca711371f018e60e01ac584f3819223c23a8b1b084835a0ec9ec79c80dbba14861bcf49cafab8f1eb06905092f98a2f1c90e4a1cdb4bd688d146e7a0677697431bdfddbaffce4e887870ebb53262b194a6af8af5182380f0e511d4358d069a826bda4ebe67ca961bfa2dc35ee3423c30eb2e8af6f90e78513b5cc5a3daad3668701cf2d1808552556a5a789f5fe9b93f1016958710f9fe119d8e6f962149eda9b4cf7b4a44b0a109d7fc839b1350b21ce6478d7278886d2cc4435c886b51006403113d02195ee62f21fe9cebe35cd61c857da6848bf945c26a31c3ab6f1d75eb2eeae26a95c7f6ba390f99af83a544f8e3e5331d15d337ef5040139f6168298c43e577c26a18418ffccec167db682a59c5e97629272a46b04dabd51a4185e63500655b778b9e68adb4155426aadbec5b7d3bb781410f668af0359e19751ae2ccd27bc351f7e1279abc04bfdde1a175b549f987df1eea647348b1e944e5e5b03afc4bb1926d5adb662f4340450a4dac1cfe2019619101c5d63e261a67ef8cc1158692380cf440d24ee740512a1debc32083f4fbfdf3415cafbc49d801d76b31f4dcde30f830e456d67e46f1eb84dbec4b2bf4b15f41b3e3183f529b9b22e6e366973eb2bacf5470172c5b162477a10111c2ac6332c7d87fa2f61a74b5dcad8d98f4f2cc146b58da3bd2c48687213c9c18997f0dcae7badd330d38dd7779f17c74aa2a017b9313c21148197cf8655fe7eef44ee6370fb60fb3e98c742f8c2a47ab18814f9894ec1507db2de7bfe61b2247c917ea9b97fc9b35f5dce07a7fa55a4b7bd0cc7130d840b3c7dfec1f8faa47efb1ba79b3d2ec52be509c7bd18b4821d43ceaa3ef3f67394a670c8692efd328e717b77d5521aadad9e0d3e419ec460ce8b9ebe303a7310614cbfd9532b194f8e18db7d196ee6958197b299cfefe39354f01f88102b501ef01fe3c40b0199a25c83ed2eeebcbbcd2c0bc374c8f45e72dbb817bf63e0d0805427f97072f9f26e1123d29265f94e3b2134b319e0e8b460a39fb0625ce6f3c48c3d9e4b809864065f68f4d8b6f9cd941c0b7850246818acba033283e21d92ab44774de5464e0d15cc38e7d42cdae9275a0d95448452d649bb92985319bad6058d5df9ceca59857a3173c6844f7409703b01626a5c46e2ef8d4b384cbc43d1b2a8675dac4d50744c43f8a83b83ca9aaada55247bee5d91aad100dc533a305d66f77418211fe2c2218325b7abf5cc1ece85228c7cdc8b1fbcd5456234d06d93aacbfc675a763b705ecf82779cd731a47b968c2a9ec9c7a3a887155d40a33d50dbe67c1f15da53ac0e3b5d6035024bc8ec211d5733b29a70c766a4276853c78f2e926994c5eb5587254b87b050d4b4dd226da850cdadd6295aae68f5f5b2c6ca5b2685c6e206eacfd016ea3aefd318f70a572f6b4df2e5e255c8cb76bd61c8e7a9427d85497a6c14c5f3b09b31621b4c7293ef43ab8f248e3f8d98334031458fa49e858e1a0662a5f89efc720ef429970a091630eb06a5aa9c032272f279f596a2f817879a0f13a93113c2c1452bfb114d3ad960107f057d76b64c399a032e701cab6238f6de44a1ee5a23113e7f4145d3d11a19b85c896a6c0f45f30942df300fa7371ac5c77e4d4b4e58c15abb60fb21d362c2a93695ad1f683bbca1ca036489956538768f2453727318d014ae87fec48c1c71100246eda1bd38f2a88e23b1f882c9579b3050b0612d50270d66a12948340a527bd8128253b97b631b0fbdc4d2d876eeabea3be09d6f205b6549b5fc9e28141ad6470f66cf24221d3bc9e6daf54ba27246ff3138ad3c19879ce8c22c585c89dbb16074c52867b45eecd953cf9d7667955ee0e8c4c4ab7b466ac1759939632459d688db34126784feff5ab52f683b422b004e64b6d1cba8ae97b6c28d13c5069d71479a074be1dfe984eab4de24da158aa26cb8e7cf30cfb8cf914c09f3494718651ab172b14bd52ab34830d00d321916008c84788d9cc9aa7c8947b11df491981af14fa10cab9f1192cf2dce977fb4a5d9899707374ea9138ffd5df1e4a8ce34407a30a675e5830e67974c8afdefbd3e8d5421d0ba294395b61675fc3686f00852e3d736376ec3aad75aa4f0c3758abf7f4492372a3d51205a3bfc405f4a8b1acbb4cfaa6984bfb62844bd18ca326aebc1260746e7a266547c5ab23f28c9afdfad2df16872005e7b38b7f06af871b0b154dd406274f3f6f464c898464b426b8602cae6f940eea20468836f0e845d6475ed8248e36cf28ea365e82525104f59e1e39d1b58c01d8f022a0537092319adccade7c407ddc52c381ed614e2ae927592e55d745a039da78b1ea4f8f9b1d9f140744a56ba59355dbfcd59b93a5b603aeb3578e5b7951cd32169b6ddfaa1e1aaf2addbdb05fb3a3acc0d52f8380fd654c033e1dc2dff1eb638df30c341e96ed5454dd66eafdb77a695fedb864af54844d5ad7168848cc0a5d0ed9daaa8ae1c20a20bd8bf3a577bc485d831cfd3e1340c2e64d974d3d8faf7d3e012a294a22968923947e40f7499204ced2ed01634c231b02cc47a848f7d903b428b05e9416fd234ee0a8277df92ad493c8527fc2d9ddde55fa1094cada9c475abc015afa4f7939178b487d3bceefc856f3d4de6b1beda672cb2aa93ecd63ae18f650523ceb1620aff546c4abf209ac4c491488e25d13757316f9d7acc2cb7105ce3ff58072fb544751361ed1a39c021615a4f293d0caaeddaa7b3e2fd2f24f84c357da282a4f9d8763d5509de679fc94a662e59fa3ced6e1899cd3e20d4d7510edd4f2a8238a43d02019a6b69ad6e38631e792a1fa29715d6192406c560fcbaceca8f33505a0939ae73f0a73cc6b30ef4b8d23877fe5da7a6cbeab187e3db07590e4df1b4aedb2772f302810030e4f98209e4c60cbb60cf1b2ff7cb912589d7a0f4e1048ed5138d6689ee8c106ee12fbb6e98b3a3324a694577cfb1413866222f887b196463e26bd32a3e69411366a469fc3dfa0a390d56497d65bef4c1b30e3f675e979acf200f4eed46f2397512c438e0589cb8706cc6b00d372a2237ff765ce577794cd7fee584be5fad1f86e305d408502060e26284d5b531828399aca218f162d13dc35d6ae02a8ceac2c5f24de5a2716614d50dc90484d26f836bc8d3f018d9594f51853fc549d6a77a6cf09aba5f64f096bb88dfd394648ba482aa5981dff426df7225871711a201d15cb496e38e06d6f085efea33ef969b99c55067986a8afae562f04b213ddb13be9ea1d9269d57c8484784704e2a3fde175934cd246edd0ca499112298f5e303a4ff1b85b4bb02e671580fc93f44dc85adb9b0308160cbf9f7006b3b7482613f323b3fa6bdc32827b740ce20507113ba3938a81025afb3b80076a3384733e1427d931e8c7c9093cf152543034aadfe445fb71bf8975135ff9ada48e26f46cf600b241d8ad403bdc04eea852ff1705e25a864a4b1bf5468877afcfe52b9c3352e42e93e49eb4a2697d57534acfd882a2caa850c676f44fc90b6dbd9650d8a46a3010dabfcd05045cbddee6d36037123dab7b0f7dd43ab504b4336a8c12ec78666a3de86fb87c174f3a79c366c69ec5618d4d5648ffa5a57b63b88bb52b8aff99e5283731b08628297eeaa713b9271e826bfa0a269df21265bd9b59e7ed9f43822757fdc8cdd0ba0b3b6159293963cf2e2b9834fee718f4cd45eb89189f50ba63396ebc3f94f14e490e56f25df6774195604566f5ed42ad19fd0a5f438d2c06945e4731142745df7e682795134cf63df5c8359958fa64315e63481d8a6e4015317f608ee0301eb7405bee8bf2baa345f417c51d2f271220a23138204f6e04e02a48fde4e80b0b40aa53478c6bc2077a87ef97b57c32ad25a45fc78268351038005cacf1777ac2d4f66e4357bf2b5dcaa7f50921563b5242cd8bae6890a3de0219fbb8e31965aba20689f64fdd1667afb97efc83db2bbd6b693319f0e8f5892c40be30d2e555bd1c1bddf15e2d574d72e1f34faa540b9a8d84ae4fd8fc325204e914a37064c7e42d63f7ffc5f95cdf3eac4a453616902417b1692e2a3b0e544da06f122aed4e43be8fa9f51d8e82ecc31ce2a99cef7414fd1d8d5fc9bf2e4d217ced6ac0559de9cff613352799dfdea43796fe039d7002a36866053c617024603e4bc83c8649905945b5a35d104efa04ec7a27d2b10bb28e0fcae80b535eed1b3b4435570ed7ac83e7a8331732c472f3484beb11bed057e940a49505701b0d32d02357bbd4d7bf5699480802163fb95bcd8e8e110a619f2fdc6517eb9c02173c7cfda763f322bee6724c269bb4f49897600f16a840a68c4ebe0d6831ba9b94661e513ad44408cdec48a067f36a4e51e59e54c728d0905a37f19bdbd372f79f335b1736607f74596a5973db3a16807130e4722e38f936b9379f82460355b3a4d999509a412100067cd633aec1fd5f081d1fa1683b986ca83ac4eabdad430587dc132b2747cdd1074f48465b7a008b9967c4c98f9e96bce80d1d55f7c45220a4baf194f702a85a69d4a309e6323f51b76c3adf0a70f21896cd4596140afb425fdfafc62a958365d6393cb78604dc132fc1cc31b003ab7c411d1e851f267855f91401bf2356cece46cad0267d59d23cd4299f96cb91cd8f24270505fdafa3dd24e832976caadefeccb45a03ec259081a3287430ecc92ca52b488daba9ec24f046b04387445ed6e5cf5257bd3d6b491eebb047419db565300f4dd07d7e21c7cac844060a989403610edc851f9cebb87e9883a738a09f816ef4f3d77bbccbe47226f23d1c2eff65e636349efcfd575fd5593cbb8e99f3b7cc02b25faac0ad4ab6579d785d5ee84449359179d311cd32a1128263f73827d74d0f4ec93894185c18ec16232f2c2ec44eb4821f85da835552c6baf6bafc75a444438ae82531e7e777ae2b707515acb7a2938f28b16c5b7b005cc5c6c9b9829d3f82b179c9b650bf7ee2064446c0fa599ad84f46aeffba1e68135ea4fb0eac130fcae2eab54a8176c340e62c4869ea9d47c61247724cec52bfe3c083ed74f8c38967e208c3b85197f2fdd921e581fce82d669e8779e39d3f7f3eb8047317a92287fef1b1546027cd81e556e185c5834814191f8e400651f4f8869e080b915859848f8048d411cd0e7b0c7cbcce5400151147b517ab08147d688eb084e6bca9349a74e395f180abcf70fdf5b28f5db5d2057a0039c9408b0a25eb02bb0b2095a79b052eee87bf03d24c2a54a49bffa7de0c6d9fe32a35f7107762aef34e07046cb31ff376e3762cdbf859a9c724255db37591722c7c476fa0a9ffee7ac5f53a6bd085fb6f999b8323de65f46ea161066eaf6ddebfee644e5703fc224c1c309efdbb49584732ac5bd69a5cd2af968046ccc1cf363c507e1d2def1d9cc8750250cd215d27833374fb5302bc557e26980fe88aa20169a2a88db5d0ee6fa27e95f040d9507e891debe73e575343eb5c66597c55c32b5a9fa4f2fee3e54b88e10f0ed947461c7e10f8e61231ef9b5e9196b6e165737aa2cafcc32f9b515d8c51163d25ad3c5df79b1576e908717b0f80a3aaf8097d2019e490fccadca06b05433db65fba6c074a106464dfffef2af0e40f59bc976594917d1ad4040dc2faad93916c0010455b541e15c414788f8ca236f61d5117386b59622c8f22e66b8d8263f4298c07a75b730c13efec0a459f4a40c7fef1c7b6c0bffdd90108079258294e0065cfa12616ac2852029681f276d83da9f327932f7be110c1d66855807ada9552badc227286fc2dc05c4c71a4e456942e0e2d31ea3c352bac237a8940a2f443060ed02125b603dc92850fa2e262e17fc2cd40fbf47ccb51032bd6a3b2572f114b3e614ea987c713c80ff3b7ada64567a36f8849c49538824f899ec154ea64038166674b4fe18624bf3e98fe738d9a762ffb2342e38ea59faac75c4ad25d09e318fb0c635ad69d5ffd2bcb5b66510c4f74f70f3c246126f23104e909941ca74cdc3636dca2ab33688f6e37267c9251c9565db4ab84b758342cfb139fdc0e19f7cb72da4a2fa5f788226a84f0ae5595aa93c2fb8490cb24ffc21c3e01b3c94cafee01e7e64781a8f9c863756a268357762ca8693bd3dca0b879d34438c1c46220181f53574b9d49e673edb0ece0b7a588b8053b2ac8dc71b0033da2224f35b8bf6d18e33bd28761c50829bdb554ca9dd0ef699a77f9239dfc136852c97f399b9f123be0f7fe6017852d6b7e2751277ef26d9805f26ce2fb1b38360867955fa14a33957004a5c83272ced3eab4005757abf62c7f49a07153ca08aeb7beb9b00b2d782a41a746c692862d8e24962fec265200496cac57de972752acde142f34e99b2182527e6cd28466cbba15c99ce2f24dea38a5a6fd5564966019a11274a0cfef198e0e787e5edfca9ef5b9290a9d74bc6363325464d4f40108df0faddef056cf982256a3ba7350410fca834cff860a9d841f71c7292bcabd04c0f08085700a87e113ce85159e05ddcbda0d3683caefcf44cb2348296fd8ef09401c9f7bda3ab4bc8609fa95fab2f1ca6574cbee9aafed387980c1ca807b8ffc507513b158b99e38d5e15d541bc6217f687487f59c7fc78b748281fa4d7b030519ca5e97ac153b51422b14a0acf3d2e53e7ca807fb5d33914f0ff50cf59e8471158ebb097efea6b3cfb3bc61b54ea7b4d8aeb296c49aa4596ce6b0181db06062623a20bf02b6ff591f27c9e762c6a385dcdd1fdc855e664b6d235f4cfae98524c5853707334ba89ef8a2a5c57f498da374739022a1e117338337bbe5cc74c94d5c6b6f8eb57159a1a6cdeff72b0cfbb592825c5e01bc75391ccebf2c38eed19c4c5e7f01d85a4a2b902286f8ce52f7dca9cd643aa80cd9f7bc325df6f6063d3893310c9a8b408e9cc478804cd8d3b88f8114cd753b9f5f7251f944b44d17f45b400e87eb6cc4000c59d09798832716aad1d61e1853eee2bec52411a2a563dcd87843c98280d9070c4710f5d68c51c95a8e300a198874cea13cb06b1e13e99caf9d95c4bed55f702e0480d1867d6981d8962f2a57685fe27798db11035a994bd29a72995a7062ad3bda3c47e6c3abafcdf1620a50e96c5cecb17754934684a9aafd6eda20e51b6dc101ff7de098ada18dbbe810e2bb747318be91064888dee4422cc2a963d0ba4ad0c8b2d94becf47910ba3e30a560b64a2bf2486d8c5db01145300a3fe75bb9c96f6ecafee55fd9851a59355f338b323370fcaa2c3bca52e60951e072e274040f64aa27d2658c67b56ec881562ee54a597906fc21292750a79193b1d7dbca9b3dd0d71ae792dd6d258e1148d98890f4655ce75b7a10110ec4fb8e216ab725e940abdff4a93ca10d54424b75d48d5c3184b62e740a522ca49ed02f8d399c3fcf6c58dc31de408eef4d134e1c0bb96dfd34f03269e7a64d183d05a003f30c70e7402ef393e2fe44bb6ed496506631669f4b20d3a71b5b74440f0a1164858484b19a5c5f998f9e6900b362c63904f2e3a8fbd156af31cfc80b16c5be0d19f3297b0fe09a774cc74ab0a782e03dfdb9c3e175712fe5f9a378b143e4fb8b654b47548243b14e478d8329a1810cb8ffb9bf45e5f16d90a797987f623e387886bd0ffec41af04892c77a193e72b7b2434c160214b7644fe1073d7245c88090ca7912d3aa681351036f1501e17b113efe05f7359e35e7668585e5ea5e37caa1856a4d2804e3fa7d97c62a90d82a0d9322ba403467a7b51f987b1e03073e4d4bf0b66f4ebaf97105cdcaba0df993b81016ca1fbc7e392c8cfa786bcb8bf4bb60a3473afb938f0aecb2482f8ad51fdade487bc5bd5cbc86811380d6be10e35aef4ad102c1511e8ed811f753192ab88f4fe34c0bd76dc0f272b7ae404245c0c748536d59ef7e38d1ec23a43973690205932e254a0bee7dce2ea79ad4392d17537d77eda971c7b30620db3716741fff2216347c15bdc806c1078051b9764413d9310ef60c97a5fbb94e638e6a486153fbb0230b8fa5e9e94393eaa7e07fc672d0e6da542d88e0eb96145fdf730bb74becf208c344a098f035b00d4609dfde06b61474d4a4bcbaf6add670d89248c5bbc8f60ba037e2e44d26cf29b58aac1e047c2bdc9371c7bf4fda05f262fcfffdf97d58162049d4d50bb1ef37e64a694b494b415eff700c2b0c7ccdd5d2f5e8199ea6acad092fcd38673f7d8d3dbdcf912db1a01a1c25ffdad35e3373f6d06477a720b8615545ef02bce0f046d85c1e3d2a85fd1a06b08372eef5a2ddee95bedcc9d4975a2ee4e69098b1991dce6ada54508306bb3c326e7738af2ddae53556b549937206473d6730e3c0f21285c9e999e989969726fcbddad9cfc8297df8c2b238e7cc9f0844b72027b704590e944362612b10e2d9b7ae59beed260785d3c1adbb075acf2c9cb64f671b4e5438039504418de81652e85dca471bd8629a2fdabc79db23ad4f66596f4acb0fdc2c9e55689a441cff8ca53b8831be087c168710e13531a4b6812d30c5c9cb5cb48998bbc8b3f7ef55068eedc7fd5808da13b24a152f7d898207035f2724c212ca58c57d6b8583575efa129b5cac4cc7b24ebc81df6f201eaaeb966ed7171062ef05a2ba9ca4bcd7e61ccaeeed731d8295d03b58e515b06dd4fef5ffcb4af7060d1f6fb678a50a4e8f57996bb6326bc9b6c81ee03cbfb51baaca00c8358ec5c481a44911f74b853cbd8df9d4e4e9ba0cb59523de4c21ddd39a87c49781b384c66e078849e5a70d12e045723ac7fe46b9c17adec3ef5dce54da0682aaf0e76c04f5e7f520a507891215097b6169fccad4efb96b238da72de35019e44f029d8ca023bf5cd8cd9eb058145ee869139c079567812a12da982a4ecdec4565f6d037320e792e9fce0343a6c668f76592f103b4afcdfab4ea904442599a15f8326e9acab29c5e563d9d78d0b7ecaf9140843ca8a312d4ce3d7ee823bd101241268f4f6d4b9926c7bb011bdf92026156146358720afdd799bf4ce9d10d95196726fb5a8333364db5d10c7e5435ed984f7c928ed1f2047e9b304084b426607537a5428e5bdf9607f49f5f721c9ab5efbd2e7dc5d411042110590b836fdb68c522b41a34a3b2a65bb0da52949dd956d3f50811263dfbd711ec0e3ad951c273ab55cf40a7c2a7c3f4889c1eaf99fcd8c343ffd8bc3bfe5d839df9a33b5f018e2e11c40db31b121a8f9d4c55daa9e23324002d8491cb6b01c4fee3fa5dd47172af8daa3623a1271c9464fdea9ae426c7c9694098cd500134c73aad3ff8c96fbda4f1f885a7eb40bae5dd4df7e536a2613ddec4694c1d0e0c84364a7225b6dea68c99b95f299401fadf113c13350b80d3c6bdc684663ec8f478695737a2e350ce7647dc407b7fc78ee83013a50a75a7e784676ae9a273c320ed93968a1c0503675f7495ccd185d3839bce8906ee9faedd61b9a85a0b6c4a21b69c07e7f9d3ca1270d4abafefa008e15302e72f0467752d46d7fe545eecff66f784741a1d5e41e9584f32427fa5d0f2a39206b5e68417358338b80ddc47a374505035626198e6b149ef5c801d3a8edafc6f49481c3018964667cb39065da8d791b94c9377ea229e45611c488b1d64407fc4baa4c201ccc5ef7da6a70ee0023037fc0c9f08406ca8c2fb0360be27eb458c292548ccfebc2e8346aba692511d709145c2afdcdca13e6848b8fb4b78e4de8a570b00daf24670025c9fd857ac35500084e0d6d4f83c4417f86c4f3aaf3829b42e0bba18f6406f4e42c4ead37a35e527323f1f3f85c314e41f6f0a5922a8665660f15005417627681f1c8b08af6879409d526260a3731a9becae3b6a60600e8d661e35a0ba7de15602c0b0665ae81da3d145e157cae1b53c34cdd8fb69bf976c9ac222abe9c2bad382c8b963ea6553eb1a0446bd75805b8cb8f98288ed85aff0c010335326833a4ded36103c47e73f44ba790f9eb7ce3d5c18e7cf97c9a7f4e8c3c9f78acacdca2c7f5c0d068b5b86b701e0dd591632afef3a5812fcce25434f644c5b00cc39db6a3780b49e2cb9fa552ddc2eebbeb56c0aa4dadb7c9c397410b39773cc9f79c5839d0a6b6c45bd375480e0e585a3035674f29a21cea630ed5c343400dc72e48cb007d6d90bbb96b131b086e74faba4e55d602703c25b97fecb3c94da8defde28aa0b74841a14ff14f5439e891f38ba19361e52f83a0420bf91d8dd4dc5de25866ca9ccc78dbec47b23485c91989173c2d6412e5b4587e1d0f5d38ca4e4a892ea057babac06d89a793af2bd12c4eb5a8baa9aae4aaf855d826f01dfeeba9d67ab7a3c39e00357677163f2e48126f81cc7c96a306cc1b6f890c3849a555b6b241716a0634b98b43ef8b859d70e07c47e111bb08df2879debffe8817eefa596cdd1582e09811c6039a25c4632d89bff33bdb6229a54f8318cbe42a6c42becae03d668a48c09102e6a8ce8a2a20fd961eed255de54185aa8b5156155768d5c34fdc869f8295703f08f2adb0b73f36f78c51cc9209c8cd45eda8903c60dc521998057604e176d39f394445070343de729df508be867249f06e9bf65ebe1b894a8e89cdf6671dbb92f33147a922aab1ff9ad7bd3b5d0501cf0e6701de60973d1faf258604219496f4d04fc8e6966945f00643ea6a4b9b6697c51bd0aeca7a5c4d85be98f7761901b4433e485552c8effa777213bade37987db91c4c5c73048443372244c01d400e58e3f6e61f4113d09f44c86f0fc582055056f05a614c56cbd4849e4b35b848dcb9b3b65a42b65beb86d4db8655e6f561b6f50df5c39d85896d25d2c4dd0f196a9ff554966f01a55f424f316a8bd8a0647aad3196393deab91c0d8c7ba0e23ad72b8fd05d27efbf5b8e4cc3c85ec0fc86ead072fc249440ed668bc4b2b23dff780e9f09a2800e5e1547a6ffa775fa3a7c8722a244ccb9604220f15a9dc333854a1382c2f4970223f964a6fff68bb93005969cdb3d9847e6cad874efd8d6bd89830e1e50fac1141fd872218337f51ac2da13651020b672de85ebd9dff7037edfedfd0e1f791abbdfad4c2fdc8f060acc35d4cc43ca19a9b58e8aecba67519ad1ca5b9103c0ec66b505e77688eba3a90b6ad21ab0d583e74a27d152369bdba3fed737013aa929cac4f2fb6d604d8bb5541d96b86352084a622f73136f11d5e6d01723c0ce375d0fd3f2f7ae1264b2566c595431f1d4290e90f2c39c4d3a26df2ebd641c67c84a84aab44e5c1f7737dff4cf4880b3ab53af5f21351ef256e8a082b0dc8f64f9420e00f41ab3fdf3e70108cbd5622ccbdf050014a7e55d5e14ae8186c3335b50193570c36d83c64046b28a7e4840e5623cf00d41688c517c5498eb6634b55767d1336f759a7ad80d11a7829e7b91cd9f0213462d1a74639b4b55e1009e746990516ef413395a26fb6a16f18af51e8e8e4a74bdc18cdb46395cc29573ab9c2a9eeb50b30fc8c60bf0cba875ea7813118fb98747e6e4a829aaa225365d61130430d8f2375b5973fcbcb3db14259aecc6de5f44246de239314d25322827c18efa6c65a6642644e3b14a1086ee7d075387b7524640b3d0112ba4809652e68ff76312178808573718a7021c4cce31cc62ec51933c4bce0b8914603fba3bb7f7c4bca6414128e903f55e112e82e47ebb1f0a85b7720c20fb0ab158571406198831903daa4637895aed33c5e77f3b54d4a6476402f24fa1d7a26be48627ecb588700940f0a03b4c562b47b537278cea8d0b1e554bd32733af48ff6c00d3ba1453cb5d874fb03718507cd5b33be47f9bfe1bf4486a3281a8c7aec210950e6bc659807e8fa66568958890690006000a5056d6a82c2618c03d2bd315bc179a5ce223e2de29d79882ac68e2cb5728878515bb7ebb6612b6620d83f7fd04a50588922b194ecb425191b24df3c57bef24ecd079f1c5fef177125b12b3f423b1a68d731f008ca8fdb5e8c701dac56338dd59ed8fdac81aa27695b8ed806b8c41b18a812c69edfb86d7b3a0a6e7083d48c444d92db40e422d68980e83724ed64527508a402b3a1a3d5b44b4fbddf5095e4d3a79e9061bbf21fdaa7830d6505d8788dc5a7ee5921e0f822b0129ec55fe52546527419570a15e473e68e1d71f91817acff99f0cf606431bd882b9ac82c39bacdaf1cb050edb545b98c759e5a97c3918c36d35ac44cef9e35da616c73dd0916918b475c1e702f854162203587ccc00a2cbb60f1561c49b4e52400bfb46482fef6a323835c0a5959674430d6fe2166ddf2d28f1fbcd7a21d24014bf3be8417ff98f91dd901911a4c7764da6a873579d18a2815be901c26242f4a5b1e4877179582eee62c1242420261996bb5204ef2111438b651ee2ce285f6059c2087598a84a5aa6aacdcc2184b5eda45f022ebff8189fb087618a62710918e2eee2582b9d4663f1946d2906eae74407c6d784a06c0b115aa43867005bd0098dfab82d19198a332f119f866ddcb9976599cb1505fc4afca24b0bbf0bb35fb9c87af04ba2b1aace12a812b8cf44d5f1379377172a63c61cccbef7cdfb22b11395f157f5029852792da506dc4cec0be6e0aaef53954a1d8bd41c4c2c217f85d28bd34aafe9cd27d6781b7d1c0f2da7aacfc95dbf819a030b82513c5a48c635081260b115699c05e44e7cd83148d04dfe98ba5e95fbfaf7819b8a576914163e87ebe511e5df9beb7ad99c194ced7fff8b8222d94a52f4bdfe7e767110540d264831835d2860038d26a5282de7d68e2771f7fdb6187af0ba029cd00a0b54399ab317da20428f7997c0e1c689cdd671553de7d6398be72408d6233d789954c41f843aac923ee08f856036908d108cf7dcc697265e46262a35ff2349fc064fe31d3156bd36b32412985da634323f4be198ba6cdd375f8c3d5022265f4e2800ae1909178ec2f1637526f05e17da36d69b7f81d8221624b6fdc2346049fd23a28a8944724d97289967214fafb1c38544f024f8e8c8b2b554f498875e1e755720a7e01b1633ef0669e8ba81938fec7c62e30b3b9cf05cae23e60f61899382a5e47d58cf50f4b6b34baf9520a52aa508f0d2bf24dafe93ad292c2ebb69893454cb5a18f8a263eb3faeb9544cecc7fa8fad02a816b003a92888cfaf41a59162aa84ee17162a88bb7fdb7d2956f9dcdb9eeab7626303a2c7b6c16150ddf0c84d0acd65803a73624af5a077a727ce48755df78626fc8c7caecc2fb7d5af80421bd57bf171e87080bee44332e01529699f3faf95e2784b5ea8a20c14ed844e1c19daaad8e46131ce9bdc5156b081a6a087648914b3f3b1be3241d27ff746fdc26ea9b2ac1c287a3de1568ef32cc650866187e8afb07a698a759b38b4c3c214a9cb65269d724629391db1d6d8ebfa042569c2f52231a2b18a22941c9d57592325d9d6c8c42bcc40ff368c650e83909938ac773c7d07a7a7b3357e8bdcc439985f2bc281834c45b12adecbb3ea6559f781f876eafbe91261abc1ecafb98e1803684be7c51adb238ca33f3dd10e9c9ebdb20ef2f7f292af6e2ee36c7b757895eafddca0bd081af873e5f65ef7ace22b27def43086524a4d0dd886d971e0fc3a8edef3c656485380b059a972b36e556cb5083e39fda166174996ca335d0b0c956883f842de1afbc75b7cf74a882c582e84b7aa649080ab54417166bc66741785ac52153fef3a4d0a6ead09a911f1c546721d1a3dbf1ae9fb426b5c99e1c4dcecaa47627b96b14d2a0a712942036201faed4503fc4567c1fef64027a12337b9ab15f6fa6d402316a89d237f45d0179301451527433e2a599fbd543da1fe342b819d5853e515ab58ef4a30ded1dc2f21748575c485a81a95ee6477a92868468a90c898e23b553a9f574666e8b8d5d9c920e7bd68c9f129eb7ac6d8bac0657097ee02d19ffab52c3122ac0d766794437324e6ccea422216fc69079842da3118e373afbb75d72957cd01bedce1cc81e306e53075b7b19204f1ac73e23427aea1e6b1e065857f3267045fd83a25b75e119a837111cca593e149dae1ed9ba7e88f835a1ebbbf60bdf4dce2b2c73a2eecdb249eee90d6a7c14abf3e17dfa7963220e283bde0ecbd4ad849fc6cfc8999b8e0895441e6578d30c31230281fcbccff7487adb3f9888f26e0260b4b5ab1e7258956478d51d10296a668f130d65cf47569493789ff8af205909c18377bd16093c2885da4e482bfe8836fa69d67cb35873655cee899f508fde8634bc221f3be5826adeea27a4cac31a575207436c12b560cc97ff243281cef81b995033b11a73338e1ce806028540cf675523a4b084a0803a9d7822c9ac2862dca0b030e011a851a8e184de08a723a03d96bd811f919d06c9a1dceec21d5f65ce5852b70650335e4efcad2bb10c703cdb7a99577733aa339707a3680c438505f6edaf5e0683c8dd7312b05ca264af44ad0febf603c7232b5e4de42fec2352fe4b323e0da81c44ec402000c03d230e3ceeac61983d454bff321e1aea0e2568a3fb4568aa4006840b4ce13e7dd812dc86ba0005ed8e8c2a74d21bf0ecf7004fa344da2e7cbe178e7e865d47e17e596cc23a368256fb71a405cec8466cf6fe50e34831b67516b0c9668f7be9ac10dd481a8f05001cd8032e1d69369fef47495821a04fa66db091048c81f036379c36cf61ec3e6c241ef6c71dfe0e0d65a4e9bd3a525e0b465955291bc0c2f277d3628f5c7dd6fd86be57754ef941da5d5d1b9bef6b7a4aadea28b10b0101949ddc8852ea753111b7f587a42a25986d0b7f200e5f3d186bf6913a95db2807f7c2b04ec2fff92dfcea292a1009e178e8d7a1fabf7a28af02a8bb94424b1b87ae7604767c366ffb2fc769c211895f4f226465eb05e023289eab4b454209cd6f70c5e720417d11a50250ab6d680569377b07996e4b68ddd628e45cb83dfcb5b71c15d2bf8c42fab296a068c68d776d5df80d311fee6bfd3ba48f8defdada81e6ae198ebe58eed9b6ed61794ec2e962603df876e055a5caba3858618a35d6de289f02a01eb5b331b880f47b5014a4b5fc033eeefc686d4556c6c63996c3392fef98923d692acc485c0b406e29548310ca54709a38329192e24f1cdbfa1a22cd19b014312af2f77e446674e698e3d320c182c8bc9a855e5c521bfc0b758d6840905941f4d03c46c20575e50d95287c1352a28ac751f4d433c611a1555a29ce223e2bd96cfba77c599dcb2dbbe2d17e4b6417a3c4c2d8edd4029ea126b9495ee7a358bc5af503e19c444762d62f1e59e9b6db935ad6327167ee04cd8879edb28c899c6c42ebaeab64eb0706d579b785500e5a7b1151c3128bee02c455748874ee0a85f53c388c673cf5fe295d341efaeca193127ea33e096a438ca7b00b051c6e6ebe322de778bb0addcd17a0908a47487c976b147f667d7b22e128caec31b38662b0dabfa991c44d31c116097709e09755da32eb5971ea4dbc7baaeb809f6498520740d43197d030df8cb259f563e2940c39c2d95199394b11d386cd64872dfd4ff7aedfb555e203e53d64186512dc540ba8e13a1e59bc13c869c46f72b8f65af118ef171985cc615a6054c176b00aeb99a9a29d12d1650acde0a12d11a5d2c3e714c827dc4b82e25ad98ed7002da9d25b3ca01ed6eb67fa699d0dc6836c2cfab7c15caf5409d175a50e52091c46ffcda0ed5883bf5264594f86833e49825b7aaa044cc8b79d8c781d731b1d0fafafada224e7f666558ff2338a6e7d2570027f3111ec3580a3885d6e80387ab386c95a2e7864cfee00d3b63bf176e7b3a7b59b9395463a9233ab4b26478cd28e8e69bbad69b2c6060a296b66a7f2ef797038fb5d66db8a5134ec9a859b38897b86bba4f17722be70476aa7b652d26eae3f972a194fb97ea95bb7be980b4fa963efa00e41ff891e398a557e512725609d755be26bfa8faf614b8722f2b86a83493216fa6181c73981e042817a181daa8e84348f6590dc937d010279670f593625007e1aa3b4ed08c5e739826b7cc530a081e206cc33e529708271d6f0f4a672fcee13996e731acb1cb7a6b8274127a067038caec6e3ad27d9189ac20948113210dec621e6ffd3128d5a491a24728c1414381dc47e42401bd8de668cb2378b0cedc304adcdc45604f173351c2552f6cd0ce894bea6cad6c1793bb928ae8a3b856336f2ff041d27673309c501356583e1519217fe34b226090574905c62ccf2d637916157370d235d938558b4f40cb306114443b6568fffd121f5982b73bb7e01a6dced0b65adf50e8f492a3e40a1ef83aec0f38e226ba2f03ce9471085d0d881ddfb6ca45acead3c6367581dad44e1343f2e9abd38d823bd5c6197cc1168fb3c1a33258623c6e763a7eef56893017bd457d00f3cabb6a39de4a0f164af9e8b976fdf003000608bd29510f3bce229c85107dcea58c410ccf1f761d7aaccefc4f67079b49d38c03ad1d7aef278dd8b2f0a9afddb5fa5761afed2e8edca50f32d3d598b5c6a479a916957ae90cc106184f84c95dc7e71db5de06a8d322527357ef7f77cc2995c640127a2cca58bd055e25afd26a1a38007aeab39262cd5e7549d1c41b1b61031ccb489ddc59343c99d4a0a40974c2626011b9cfc8579deb5c858ed4ed0d63bd7d545a1e70888837f346cf9df5b75cce51b66856da540f1250c7255ace9140e0b650e5fd30e212006af50679a34be3a90ac4527a9654c20ef715c1c4f3a1b81cd6136da3cba4c774e7d7a81d320994fc073961ec28157e5a1c2b23f6214b96232dc27bac6d682695520f13b3b175c59e1e204ad9ca33500957841dbbef71d658ea57d736267a7691635f49b8b08c991b8e6a83b8d59bb2fd46e","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ec10418b6d81eb71c586e07ad7c90795"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
