<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e9f6fdc12ebc12c1ef476520cdda3f3c52c97f5b9a7de614208af7043d8b4cacd99c70b664544f42d601ab2b88ac3fad533273c6143c369056d782791dba6e731cfad1a8c0e4aab893c1ddcf0953c61ebdf96a19c0be5f6f5a0c111485277b73741c245bee3766c309bdb70d1323024df5c0748c560dfebc8bd6758a5e2d97abc77145a906fe298f1188942ebd5e4039f5bfb8eb21de42bfc381d2de6a8f715c18dd3f9a22e1f1fdeff57a5122dd2309898dce950512c6970eb90b5e671aad32331865af22d5f8acc0de44229677a1c28a9aa4a19f4e51b1dd72ba54c43ec233f1ae3931a335fa1e28ed96ea16a4751870d7174e54f7ab12d53123f5963a7cc523685f5b28c9d1f05ec6f1eb6dc18c36d761f3ddb72ef2073d0fd22dde71bd6ad0f6d02c14ee61015a2c4a4257c67c5e839de75597ffcf49c824cab21efd8fb57d11d52d6d21b66ef23d22483a0c2588cbe5bc8368f69f56d3e6d77b96266a6939e6df9dbc086c71d0e5820483ad8b7e69122224a73dace97a5a07c7ebd9f6bc4dd10ec0fd3c50ed95cfd7a158b2f78af044a41f32b9fa8873664695ca09b0c323e3dcb2cb0b4a2081c8bd53061e7223b561db0103b12aeb6d92bc5690a713a13564ee5318249a776daac440ff662d87df7353b97a458ce36c5027adaa6178998cf45f1680ad90b36eeb10c44de178502be542fcc9cd3d06f365fd79b7cf9e2e9fc70ba31a7ed65935d96d08642768ccf3040d00906ccab1fe9a851563669ab4fa38f19dee16c3299f4774342caf38e6f213e92a156797b0eeedce1189709870468094263175c20f542be8efb3885f6e81c84d90e4c7c3f14ab091e085635a723565c19d9704764440456e4aa49678227f79ff2d1fd96a9f5b217e239f6110c028dcda7422f7d9aa8ab7546c9024901ed9ca0b0f276e415f47afb1de419b03d6e0ef02e93d92cf321375cfd139eb96556c43e311b2526adef620894ad09722f136f1ee2c4e4ca77813b1ac3d84d2f0e1873f712fd33f71f2e09927bdcdb32ea8d40c570127d11231cd7f94d8106bc0ee7ca5c3a675b9b7fe054dfa74cca9eb6ab5ca5693765fd424fd7a7a7302c5d26b2f4178995b3226b84e5c011af5de3429d20b7717dcc57196938547e711a6646091e6e1ef13f975bb35b89052c1755e3773137c8b669ad0693fcbb67bfa1e95930f4bb7a099df1fa2e6eb5f32001b5ed2c541fb455bfd1e2e15a2d7282828681ab7a334aa90e6100680c73410f27ec594e8e52d17590138bc2512e8e82abb39704716dd067434ae726cf0b28ba0f9eb02ca6018f3c9d33c8a2aab3079a6bfbefe2fe2dbdeb57467c58234ceda0c3a0fd5de32e7f3e7f0c527e46525ac0173b830abaefd0d40082d976d15a5b855c9b113691e71b2c592662ce3b00bbae9b2fc949569566c6c5752bfd37845d43fefa046d9d6d252e112d5a17c14e2291e79071c0efe1303d622f1583c0b344e802568777af639be46498525c61b265cf5de2b73c2ff071bf0d4b0d1a0017226773b61568230c0e2a2e8cd7bb17cb3c63ebe37f5374785ae44797f0e9ca59ae676e479c6739641ba0707c20cd81b4b4c3b0f62866c21a968d03778ff982802377c98148cd0c16e96e3e546610edcbf0e7c8c780079116c0fd755f2208ab2beef33256a6f31de518e4fd193077d1bf2a731e9a5657238de791c6a6cc311144e3ec11be1c633b9e1a99da9a6f149629619513433dfeadc35e5325a34f015d6349794b6ae5f2b08bd5c554c43a48eb8b077d956e1473fabd364bc355f9d7b1068676e596c3ec195c4243485243eba1c391db925d674fd5b4e5462237fc6d7783c6a9f787548d04a16dc963d8f161f249e361aa981198f2a32b5c78e5a2fc3fc1817b53fa36d85c2fd5a3f0a4be27a2feeb2ee783cf4035e8d71b7af7d5da0d6fc965b00c72424e56988eb54c055d37797d07c0d01b0a8bd03499e323cebde84028b011b6e1e7ca70c2619790b20d80bdb245ec7e571f030400ed1810771dfcda5a2b8f833c1b88751b18b5df17fb6bcbc6012efd21af918266b9672942594b669b945a96c4ca46e05777396e8104ee3186137cc053bdd76502259955471c3ff678438f9c889d2831d166210d8b8b7ad084d08a56a5904eb0f139819770868caee98edaa1e404801798a483d60cf91e2d9799c2aacc9311be98a9cf02223286369ae6563ec04adcd463420937d7e19b72b35b12cc8697896c7bb8f6d33647895847db75f282af37e9c90bb1b870685022711539477cdb076a1da59cd88316c393ea3f5f22f62ad54fe83a504c94f9fa3a1f5278280842a3c38924619c1eab365dcc436b1571a7202918aae96086601883598076ff59ae59da6ed80f2a139077ab9dd59740bec589608399998e8f0fcbf0bec41ee7a04de1d1aca618012ad53776fe66a7a75077489498da91e9555f7fad7adc77fee9e1357e376b949fd79a0aa3bc91c1ea53946cfc37453b10f387892454d2c01308f7462e5a0f1f3b278337c0e89fd93b35e1eba8ea728f152c066b2dac10c372bf3fb28eac9a43b8776b0f37e2e232952f306308c89798552982877ef6a37b2c48cdc6e812709bef88477180c0c85b27966ed5f80c540c058a372fbbf5c3e0e89945e23bd9b5a48b82cd93c736cfd4a00587198ba664f1b236f872a4f1a1c1702a1187202150b9ecf458908aabafb7e46ad4656fc2861ca30986771c6c6721eb4addfb9a769f896a726b945b29cb67284b7340b5fbd4e8b3ae8b70973277b9ebc8704717780152dcb365f3ed466db4c736719dd568dd33ea15cad0818f4f58cd881369c9072b9fcffe0dc35eb1e6c5a3a803d7703190bc2f682d8fe9d649c47e5afb1e79be898a286a752c50507af16c6629bf5a773ab4d8283d22dba6da25b7aaaa2300c8be9f96bb5dbe9dd3708dc24b225ddaeec865bb8a63630e72ad9b334e20125d637a323424393180d3f0f15b5cc72d08ae1ae74b1483930fabdcd383963f906fe088ec29f6f897b57c71dc07baa66afb5c73484381d8d30af6fe5b2f47a051f9f94f748fa7c98e55dd4ed2c5717ca6df2f497f7f83baf414e41d92731421b4081acc13a57b57c3ac61f56807fa176fe7e7706b7652170b4cfd6937751b5d7f135f6a1ed8dd7e6013278b5c78fcb6823e5ed01fac470b4f56cc203000d448f5e4ed1e6d06a9b34a177ebc6f324f8936bc4257b76add10b7eb5395ea018ffd7264fef62e895ff776dcf6116920b76f3d0749e3e40a1348e5bb3e00006e6568e06fdf41242821f2758b7b3cab3f0259f7b227b9cb0880c06807ab8601f9e23be2524a93d5c80768d4547f7e83b75686abd78564858c4f96318155d2b63f82073ac916ed4e8366cedd21c2170dd573ac0a3eec8552445d7594a58472539802aadced56a0c7763c4888a124883957219c37ff206b96a83f244ca5188eb03384849f2f7b7306966621b05ecdc63424e3f9fdf7dbd62cce14993d4e86b5e7e1775682ff6b7d85b9cb773cc96a0b5b13a3b3929a48ec0df819097b5511001629f9c8688f9235e08ea2c7f88f196257c15dd04d1f2ab889ed6ff64d9055096a14a604a3b31b1b77b14f36254a7d0bd49b88c37885ad17736703456e544796d796f2c1f74a0d81aa207a6c00749a73c9ce1fa95a237fa92896e96fdedfcd21644e66347d239d8a97dd4cd68a487078c3609f7f3dece1d9ef7484d40072b9358d3f867d9cf363f8767d3a3baf2acb6945de7bdc50d87e8a357f22e64f97ade0d544c530f789a3da38cd6ec8889e9c1ed227626b2f775cf2dd338b9fadb45678f2b151ff789e37ed840679bcec156a17cb42313fd9ffb63d5d9955a79d7dcea1afe65b2812f2ef7fada86535803575ce89d60ce240f7888596fc52f41345887d0e8e6936f2d36aebf1f70ecfa3673157242c7fb083cc1ff39a6eeda1adfd78f98c355d06f57d65d1b09f80cf832d59cad4f385f713ab0b989a2a3b92837838cabe8619a129a1c6aa76c799925e62bfded6c95fb9850073d281e3fe0e65ffb37238ec27d5fe21b5229aefb57d6360d7c0b7059d59eb3ef70ed6ee8ddf331bd79de28ff60ceab73d111cc7d30ae0b08689ba3f4d598135fa8d3c997bb10a57b5e8fde3940220cbacdf7d6807e7f945fe87d4a76c5efca28461eadca8178d573bcf976ff109f2282d0f3790c41c2064424a381b0476e13455b6c382b9390c001d54fd5d4b1a58cb52e3ed82f35d27af580f54d72f476a73eb92b6b3489685e698c62e90b7434810a20f61d9c4467e5f2547d5fa69ed94beffac94b01b4b2f6b303768725cb3394212a6703393c5638cd4edd5fbf19ed9c64be8fbf7c0c571706c8e8634679be05977975b08480954a7e04cdd969f02a6b7ebc1ce65c5b1d3ce5b656bfa623266f5dff24678d9243b211ed5ae16b0b44295386ff637540431abcfe560a20574e785bad26a38e70d36304d00b297d535cd6128f70a2ca5e462e41ef9a0d88919d72f9b792883bfae7717da6660117e081f640e35f0df3378d72ec6fd75a5f66b7a71acb2d63c396e5b3528a3e70cf95d973a747f4d4ae53b291d012314bcb0a0b94bf04701ba65513226ff26e1bd7958aa51d5e801f266cd54fe9e133533461c7cf8f9669e3f6fb450b1fd94b0dc4e4e47019744729b9532c304c5df0d9b61179cf3f83ac9bfc41bc2c4262debf211f0b675ee4a0d041ad2ae501b2dece5b3d2922cbfd800709d2207d3e7669a6c917c7543c1a4ad9c10c4248a82a6e47cf6bca4824caef6ee626d91ff8dbaf8c9e40a3580e01943ce77aa3211c7047ede50f9e64b33a062a32166db0ad80c7f39698cab3067e8a64a232e32d9f7a91ae016ee589756dae95466c0e3aa8b77fbc631af42060db03fec145ed1bcb09a6436ab52b6f0bbdc57d699899177a0d42263861c129b252b2c47e15cec155a25a7b1fd192955fd04e9e6ab5f46ff4161506de88a863046ef51589e142d36a5cecc76118547fa7bbe41061e8aaa03ba4dab09e16a779989e5b40d51de0479b39ea73a49d8e5777eb02f3d2897b86c3c2a2e1e752d87c759a84a89436473a7892722af8099fda1244e65e0472a45d9ac2de63b423299b51fe1afe17a958b4d0d5aa22b98c3cbfd7c06dfa24ab48aaef571c975af6b424881d7fae492827bb651599344578d57189da1f81fe3ec1769da72ec66083b5f11327486c8f1da8de135c81203eb026ee702435f3113e2710029505f09ef362b6392ff75f4ee5eb90540f006287d2c4e25f06efff0c06a8d588245d9110963f6d36d604f5659453a569fece4eb139ce9afb6abd71c072a342507bdec268c74c357cf5e0a3d119e7c827372b7c712ded5bb4e8c45673d43554e041f9841e9624e1e961093ed66120eb818e23cabe0fb8c16b14bfbd7ba796eadf64b1abd3a4e355727ea91c608500597cc5845f5d63bd0ee5f43cda0ec086807739a5c68d9990c10e087ee84af42c070dd9fc07970d4434f6426c5b9a15c44816995e35f55dd51f82bd73840707ec9ce3c4c50f0e337e6da9670c306a4767f878b698da09d533f244fd9bcbdb80f57668e1df9782bf51891a7caee23cace3e2df3ab0f0e197ec28d615898063e57cd7f152a4730ecb4edc4930f13d0cadef9327b598bfc062df3855cc3c1881bb37aec9b6f125559a9e8a5eb45d2b5ec49d57883f25f667d707c1575625c0e77572b03bb18c3dd869f089829a29dceb12e53900e3ac570f52578795f84349101e62965b3aaec2ae40c49d85bcabe64967978a08f227b1f4f37e07e4f567ab03765f8b53ac4f35b53f588517e0ad358e8c3acb1e0dadaf887e2ff63e07786b1a55d40049a54f041a72dd2315c0634853349933361e95e56210d7c98f0779a49706d17dbc745e4a42b9b1c1adaa9a7a504d62ab9e357ecd47ee51b4c53a36284f89a18338fd1c6fc91bf35ee0565696cffb4372bb7a0e17a2390d71f7faab90335194eef57aac4e1f4f8e3c161743e3568625dbcde5bf56a08fef9f675fe4ef12445b5ebe12f049bbcaaf3b3ac26b5251e78f14002e9bee0ad7d7c47751da2f664f3a2d47ffb95467b6df0ea6583b27ae04d0ae81bd5e9c9acf85bdf27679ad48328d04b660d799398e9295f7877404f31b98b6ee046b71c6ce142001e5de1b3b215d3f45a2929ca25847edb9a3a45256aea3fb4b839078b0ffa62a99df4d35f8a8c3c45b05fd0e79d9f55a4b510c05007d5c04ab6631e0ca3f78be178d1fdd1e575716d51161db1140aa09ecc1bba9149242dee44a101175c012decc7a8117b49d5e5e93325ca180570a5301fd20326f843d85bcb2cd43de0b3deb0a16e5afd92cbc4a1e9eb9e79c6d9ce68d464d3c511e55d32d6bc2a9f1d2bb69b93c436e02b826c0879b441250d9fd84334fe883de456226a2866b6c3aabde2d33c6801740bf417b37c805c7bf07595f833e2e808c92fbe4142095131f762ba1fa4c61ba83768041247d97f80e71c96050757737a52d604fbb3b7fdc9f2b59ac08618063117e64c9138e93e76fd3ca91c01f0c180c7f87308883c5b0eae5cf22a0c5bf6a30c9d30b11540486cc64063d7c744b2960cabbc6d893a38a38478ad15db9d35bac58fc373505f2d76719e47e4037e6817bac689ff9272edbcae5adb9319194b620fffe3ec6f7cd9dc83d573531152f83fa9acebc99037dd6c190584609eff398d6543b43964a490fadbdd0b1fde08428a041dd1bcbf2c4cfe30a6bc89e3397911df3131911525d158d2b2f63ca1fd2354bcb43a3b314b3590194ae8f2c6b803ab2ad8239d699886008633354e3a94a0e8743374efaac2b69d4b8cf9902027b8f9f334b46a03c6554c2df2fec9c3995c874b7837e3d18c804cdf6bc5688b7a5273df17d69b76c38faa7ae10987d1a5f1b683b64c613e817ab820f64380e8186151310414443194ae0930a7014eaea7317f90232d815be2b58c5ee00d746048361bfb16564a876ecbd5a51fd4c51ca114abc669a1d62f8d13091ef250da699966028d860c6503b9a5b5963ba011de5bd818e533c4eef3424779faa27a0102db220d2ec0b650bee90a29da94c7e3592bb7e85f8a8faf130db83b776e718710bb035e6d9b1fcb11d9fcd0fbbe3d3f6fc9aa9bbf86c71dbbacd42abbfc44f0088a4d3fc7fd8b10bb9271072adbd55c7aa959002e04d1d48c377f1920642d273e31006a619a0e737ff7511585ad6cff85615575573d05f3571e3dedcccfaebca3b1b3de70eeefd75b8500cd115b1b742221da927827681018dafcf6199af24ed3db26aec15af00393d98c9100edd2224750355f64657109c940ef4f00013483956dc5872372fa5dd293061609eb1cc28fa4cebaf00bda860f343493cb0b1acb8306da71896ab5744878bd35b931b85e2048c815ef1d400b1482cfc1297d7cb53b24af534ca5e5ed027dfafc83c4e9c9535b887bf227bcd35679d3d8f3d589b35500084bc6a2d5e8569b0d0181975f90671e111286259ee97a8b2772f2534a3e607635bb5365eb14ae773d028ceed9aca8657a5ba90a86d7e87978c87ac62bb02fe52c25139e62226e3836b6a4ade0be9beb2f33386602d29fd178f5e3c73c59bda6c28743f1ad3bb7c7f0a34d2fbf5ae60966746c7d3e5598abee3c2a2409372738a188b7f18abf47c5cff03bb7af9942f43905be4e05faa3a293bc23052e4a7226db3436f7b4b76d0996d52a5835fa4605ac620b0b04d7b6c55708e83c4f6bc2c3b7feaf0749661f6a139c70bbe7a5af41d0b57700bba1bdd749d423dd8ca0140f6af17eaf928a8ec8750e7cc1e4e716b8d9e0f0065f69db90c2203ad1c6b4a4bb635fd88f9843cac537b256dab15474ce99e9e9e7842c572e00fccd071dde393ac035f9b15bbda129dc9ba4e81a05c9a2230bf613a2efba1c4f21677b0b9dcb64b5df9060a8185c89490a0034e912642f5098dab58637c1ee628740bc84b4a5545e2266990dd692018e0fb07298f73d4a0f13148d7001d07847f085eb4abc5c8628c23cc2560d414a14603962537e02203504cecfa3b4ac17792fb4b07bb666d53941a839c42666f7aad0a5436bf596b25a390494ef6f1bb806f241ba18d3277dedee9f606031c1d5571321d17dc92814c57aec810d7f8e441dc3504eb5fde8a84c0193e07f50e156ddb3a5bb1cacaaab38fdf6ae59e5ad38e3603bf507491e158eee421c8530d245c354be6916a361295f417d31ffb48753b264f3fcb8065bbe3322ec86d1552328f6d3d4eac874074a12455a0141b966554662eff538b8d32413e051eb9a9469672c555a0f4cded0114df9ac3426609b868be65c87c60c8f03b6a73ceda4652569125c4d9b55af38e72563c19258075238fef5c64803ab095c8530e58a7f9a5e4b416e7a3fe5d76265c0427ff9b8a16d5ca41cf7b7731d3c88926f092574fd69ce6faed2f2b33864dca3a08de7017fcd5fbd9aea8a7efee970ed951313ba3a45d9f44ec68c3475533033d48f1a3e0c2a423abb0148a891f8c803477e35e9d82362540a4d8385125b8d549963532baea81ddbf88571347c72909fcf515c9a9183aadbd47e4eb4b654a470302a29b6c460106e1156e2d12451a6e4dc5512b30e2a59dc1a0686be37ce93a87b8bc6f1ad7b40f489921c6feab2fa3f557991ad993d49dbd89fd749a536b2585f1a68ac18faac1698e4cc511193f64dcef83f6209c72e4f69cb25a59888110404a8b6bff41cfb77a6a89f44a1e83e90a508790c77f9010205b0dbe95b5ded3742da80b7be23e56dc7956272daf7bcb2bd31a2239865266865b9b46ed94a3bc9609eec5918feda079067d13835f961f35b2db9443e56496fa3b7237d4350351dbd73a99e737bf3dcacea386677395d6e50e1a47a234547b06276041a9dce06b03aca8be6b85594f2beb93fc7150c057b3df99287f5855873c6600cff231f649257adbb4c24b55db999903989fc2af353c05e308afffd79f206e401f7b58ff7151f08279cad1a48da4ae81f150fda03c26af596edb350c6481f5ddd1cd40cd7b18cc804b1634665b46520cb2db7ef51ba8b9401364540c25b2284ea15be581e7b8ccbc353ba40040d9e68dc8bfbfec5d5c42981daa95bc0825e045bd5a11b5c75cdbfcbf364054da5d9d3d48b01317da6d627ae895935926cea3266fd4d8be02788a68a0815b758c94c8920f3287f0db11dd5de1a84d5dfe4c02c026b3f6d5738c6c8ae688c21841b43bcf88f55fdb54ec11722cdbaff4b74adae802fda96c4fff51c7e7682d0914fe4640c5f455999f2f2f71afa1c89bb3a32ec21534f88882aab03872ad933f7edb3f6e0af8c0d70b4a224dd355fca08e3fab97d314036a72e99f8b367e27dd0e1379c496383e02ab34dd728518379e99f796afe4d37207817a12faabb5f9dfb8a929063450f3968a42360e7864bb03ed2c756555ef107ef8ff84d89a302c669f95ee969766e6993624b0b01ada48d4b4c74cce441b3e451844324db9007ff1e6905f9f82007c4fd64d578b5c728280edb32e99b405c4533157cc62644334c8a3158964bff67ca8027004580bbd3c948e729cb920924f2fdc19245949b9bd36afc828f6fc1519258abb0c290a88dd7990abb5bc505e71d189078bd54b050929d4e902545415aa4f1f517a6a3d5b70c776c718e32b13f17c155eb73b19408cd5b548b80a81c20b24a9fc95c258b6a500f092e1b8bfb347227675b52da607a759f1689ba2302f93ed2051fd631ae59f3dd959034eda3df3986612101573a000984f7de435e797e18aff88a7bd8ca73a0200bbf90839309f7393fd4d7c8ad4140f72e649848cf5c60937c7fa9a43e4b93907c8b13b1ec25fa232c8e4f7e02816752e685554e52c2c24b88593fcd95de9826b4e6e75813577291d9feeb280d100d41dd8180364140930d02f47107f9f516e208fde37adb0daa85c65318061de4a84ddb7bdb91e36990688a1c295f016e16d04e6d89c354f01b5b36d6358306d39a0135597b0924e13ed11cddf8e8bb73c3729e2b075a48a3be563f789463ce51830d16c0688e677529c501e3a887bdbf855e46f68229f1c5341ca49cde39fdfeccf531f809ab38623b26d9c40eab4366a3b5015850f2fc26a0acf93115395a350d88318234e45b251df17c26050373ddc87878e83748b2d13b4660faa94ff1089abf334355141ca26448f7f6e6dab160b848c62061d04081d34515e870fcf5bbdce8df728c7219d2756a64505ed26945e0b5f9b4ab5c99ae7e89c32b5373e8895c23c0c64070faa5f58355d7771dee934be316df1c52e8fb27ad7e17d76686b243a97ff897f6b68d861d34d9d8ccaeac266d01e12166a1e6c55d6257c40c97e433ecfcfc283c6d2929926ffebba3bc99214b050cc513d357de27a2e217267a62ef17e0812175e5051e7dc2a482fabd825360213eb2f8becd78fdac2e4b9876e9125899c382ae6d8e9e43d292d0ddd1c0c248daa8cdbcbb7a5eaa80f93f398ee958b95732be1198b687b616cdb84fbed6a159596653c05b20dbed06e5ba1a943d2942269a7a981da040deda0a00527f07b99815dc1b3d9456a40246037757f399b1910e214e0c91950f856294a051d359e801ae4e5024af30988bfd5db0fb8c986fd7a5b1fd0c27d3ad178811285afbae8c234c2490b2975b87382d2140bdb7a827732a680ffbd3dcc2857b9c6a722d79782aacbefa77033ff7ee69b44a6174a26ee836c31881bafb3531e52be8db82a0b8897146161ab506e5b6cf9ac7b631f7888672f78ccaa2e98e1c5d207be39dae69ef86ae2dbb57e7cd747fd2698d883b7539c24a415b157f0d256ae8eed48ea1e0b84b9614394853f77450f685c2afdb55497eafff3037fa3cabae6d699b45f569cc97ce9b1a462d3911c732857702fa26c3dfd865647fe2beed81f6de795d6466af8328cbd426461fa5b865beb1f0a30d4764caa2c414503470d2f1c97baf3cae18ff7c9821b65b0bdcea83fbeff9aeb7ae9c27bbc10e57e0c01a46f290d04321ce856eecfac2131c720ac5334e0b0eafa074a25bcaf22ff9a7b08f53ca217428b9d784a0792e088493af908bf5be3ee75a419c3655190cd0f841287b3ad258709ed003d9bb220319f7e056a7db983cecd508ca555013b1fa79451fd33731a61ddcf14ce43961f04c390ba67663babbd509dc202e73700376327302694a12581661b0a58ed3fa2e95c4f5b13e8a0f8a1afe03068438bcb9415f0687765790a3dc1c988bec3afa8b152bce2455b958aa05fe911aa608c3cbb2f1b65e779881ea436e41076341d883638a55cb68139945c15badde905ebefcb7227e6bd5f8791e5ff89d3175f9dbf6926b9195bc9f72ec422addf503875d0dd3f6995a542ba49291dac6357c75e9a9776d9e190cd4d0e3f8df0730a82db4c4df25f199efb45b3fe17e7666dc96415afbb6d8c42b6f363e1ba91c06c89d5aba4156790a0a6535828fa766ccbfd74b75fe0dc4cd1597d0158473cc2e8129f3030e8f25cbdb6256e092606321e2fdecd05fadd563ecb94cc19bb3605d01b10ee40abc5b34b6ede58e09c24b3d67489f076b789b9c9e1ac5f39832486a26f9ba39b4275d5dbf9dc589d1885c0c8a1108a5b1b47a0ebe5a5b2db9942a237ff358d4f144dd4b55482913e44b03603b758f415ce6c9f2d929e4430c8e6419b7cb62e85b17e8b833ce00bbf995df62b0ea2acaea7f99e2477ec3b9407bd001f59ffb25067ae719db6193eea2277465e288c40d289b73f55001a716a62892ad78e16eff038b33c7d5b2545b4ef84efa02912fa03f8cfe760166982bf4bba8a96e9db9a9ea7d2e6096e4bccb6eb1e97350a219096e28758d97bcec3ecf8e7f0065848b86093c18584425b8bb421564bf67525efe9acb801014880c6b6114a414c1c0cd873c1ad14710642fb25559414f33891d7ca5405a252b0a0e505e1baf4cd8d1dba1b6b64a864dce4c35590ae212dcb9e552ca4fcc08e32649bf789033426c235e5d3df51894ec7f6b7d3dee64b9371bc60d78be0dcdfa6baf732f26dc128cc27df0e63cad872c2f95faa973d88d98097fd65e8fff7693ccf26e17aece324a8413a4811918098217bdec7c63e944683357ebf3800d4bb6b8823cda62d319e6bd5b357bf73e8bf6168a729ad55150663bb02f0a5b3eb90a3ab5e902ef08beb0b1136c8d420cb414a36f435854abb248e72226ca1de30d7e14119c62f9b7558763cf8d9c410eaa6b364c95ba1e31103668d25c78e809847bd9fa68ff420dcdadc31976e7ad957c145b3ac5edc0de69e5959a8dd8f0f0a6ff911370fe603dcb6c56e4b9aac8d5ed3fb3daa2d64cddfab273dbdcded165f9ec3cd9aefcbb482fdfa5290625d4f330676883041d82f5a53c782da3f4e051f9f6e8916e518d2b99aaaf437ed45993876c6c824ba7234ddb2fa5aec30db8b779a127daa5c2d4356a6f4b708c29e0bdaabc14b151f19b9460ffecb3d4fc93c1e6c944fda3d1643f547df9fb0c70866bdb492d84bd63478a9b8f2f6c34d62fe00f05182dd8a9532cd74404ea037a4608fd3d86c08c737813c6d4209dfe32956d5b78f44194bac980093e3ec9851f9b5600e3f158388c85b3e0dbeee03366bc81620b1eccd6ff0033935321f87a6048686b6ce0822c3c9a0b66d2ef2a43527ed6cdc1f839b841b695c889bfb9f5adb366991b8411284e615f7c15fc3187cffdc22521eae19cf10310bf647d1efe916a7f3d759f3d7ac621efc455952f1dd2cee828493158fff56de488f496fea7a48204fe7c9df2523f187a4d09647eff58c08e60599f1ce85b6a1429484b45c83abd8ffb53897358adb4c1471f20d00bdd079facb17becca3fa79558a795e24c71a5cfd74b8371d4adcb41155f37370a88c434ced90cd81351105e0f0f6ef3e85c3ddcb9c5485fc842a07d237b989c2905a0ccfe2aedb5a22e6b991e77a482e0272fb88dd141456c3979ebd93ff2d74a5f685058a81a815846bc5e8ce855dd7f69a62cd542a4654c8a6c8a8c8fe8ee339aad3b32d4512f5f0a449d4f11af05b6cd3e8da7dde5cc44173b8c77417463d7d751913e00d55108b324776e0394a192e1cfba2490c65f2eac2fc993029434e7f7341cab0b624e5c72dcf9e02c7963b091ae100dc2ceea85da813ec713fa9dcd1e207da5efc692469001218a9c355e11aedd1110b53fcec0a05a79eda0a4cdb43a42ba07ff0afda6e927031a6ba701199fc160e7365e1a1596e799b3cc57bd3598d30ff901971e0f710f3f14000e1229b8a3f943dda37b7e10240f22a4fe7917f7eea3c49f4cb31ba79fbbe3a3288ca4ea7a786c9f678b59528ef2803774629a31cf8caee8e063915f639e8dc6a06031a846d61fc3cf46beb39af4a798e2b34b98611a8e1476d25bff040c184da42bbc46178eb9db50ac6930935b131b2d7b30bb62a9ef51882acabae417016f40ee56e92015d2015153a3655dd699f7f4b7acabaa3f3b00632da0480b5b47b2b1179a423fbab86726de8cca4199e51aa5b4c3d7b88294b9e2a75a0b5904752ae0c5d3106eaa02f5680b96d548921977a7188624560ce26cf64d4483d09c3e9ef44cd09a4a601775487f0ccfa9e35c156d640da5514ccba1553651f62b146474533cd135be6cdf8c6cb228530beb1af00fde10599a52461cdf0e9d3b14dca45deabada59d5839aaf1336884842d4a5f097f6a40995d2317a165de766cbf496e7c1745f16869cba3e533950c9951899e261171b96d20ff853cb00c14d87805ddcb1d6242b2e1472f60862158bc83c0d384bf98ea65b3ce4ae0ce3856cc39bdddf437b59c4f5ce6e35fcdaec9bcb47c2bc65c7b66feae3b8480aae31453aec571ebd7ec968647ff76cfc7957632e0c079bba966c033811165b4b50204b4a63f2a9dd9ae49661d980e32b354d0840fce8a2324ab29e05b38cb530b5329dc953fd9e909f06dc4ca8a7fadde50e69ae4b76ef09e28b59e1ff9eae3d048375f5da4d5b70500b53b3468acd2b508da8dd89afcbf97d4ce13e71780e1d4509449aed24a1f6af6c0c8c57b50f568985fe66d1c2702792aa2efd3cd16c89e0fe22a24bf623e14d291a90c032863aa9477c63193a070c88a323e60366e0caec7d00be1d40343e2e7762874e5463b8bc07e4e85001b63484c6f81a6a67e8ff3777c9890008f5abb4ac4b53c4574b3e0fa9247f1a5b57e732ddcf9fad8254e4e62954d94d5272ff57a27fd8ca3118d17a7444d35ea298785f3be32e0b240a3caa69c3247db9bb1640ba00c328ca7055b95b8c73cd70c52e19f50076fc4d01fd86c139ca4eb4daf04a1566febc4fa5ba7304cdac40d1b4148f75830c0b297f0912511fd4d73af6b4dec4a50c72fd3f1860f65559ac97bab91922fbc8089c00bf4bad8279089a250b981643aa65f3125fd912be547c1cc6a8d1303bcbef36b6a4d85bea55d714e14ae2eaa156a51b64cb358051868b02b2d9e805d1d16b6924ddfbd727de03eeaf41ebeadb70a97c4a2c86d1026fe439d728d7b7a6c8ce0ef4794298f85532b99a3cc8771dafabe8ffcf129a0e0a6d935f8ba6c11cf53622207e4645a2ed62110c85857d67ca7b90c780dda55e3863b4efa392cced0b01a479882c33bea06f107625d22fccd6d3226be86bbbda19a773005f593653b4c2c24430684c38d662239344cf36650b2ae8108ebe6245febd7106a49dfcefe758784d6337e5f95f4f338b3096ba6ae0063513530f0f82f24f86493e8de38bcb557521d68af2f01595f061fefbf544939bd781abd01e60522c3a6d0a61175dc5a4f506b0ad7b56e387b7b912fe5afbf5c00f176a514225700115714ae187d3141057e3c9cca940bf99361c900382cd741d709a320355c54e93a28671b7de5c74d0f50ecf9e898126083b08be82c07609ddfda889b7b1eb7d6434b0bd0754dcaf229e0542b1b5fb89486e9ebff0138e27cd957dc83e4006f46290fde64c156255b7a6c13e8c077e1aabecaf678751e21ff0a8df362b27c7f586cff40b396d0b37e18f4265a91e3e3c8774dd8da194dc0ed9e6160b89e0b37bc45c311c241a1517d39a879f8c2a553b5b1daa3076814155a68e38abdf09caed53e30bc75cc35e4e036062390e6be16772daf28d9d546443a98986a82918c56494d6285f108f50030771890707e54689102ffadd907d6539db5ac00267a5b4ca4b0209ed2b2d7c11b8b85161a193da2b3e4650f8a73d8b00e831810b60bd00151a7bf6e8e726f3ef53d68bcdb8f532751884cec443c461ddc9e40148184e08ee47dcadbf7fbb95772f42adabe8d64744f91a84f47afeee0f06e48b1f2781748ac659109c86bf90d37b971a316410265dadeb9d20f475c456178a587bf13b433a31692062a7505cf0828b908517340805b8f9b8d2ad86f3f276b0d168acb3306ee914dfee6039cfb3c5196da76cc35bd6c43a1149a4c24dcfd71d6ce611d55e802da9eab4208d9c2b76611a88533963e53e02e3a82002ca15bb9695bf800a79bdd87a13d9e308e4d6e05adb61f68b31a10a2c97bb7f52eb565615d6238619d34c306a4b21cfcaff54828f8ad12fe23863a8dc336989eefd36b051ed80bb07cf0ac48afa2484a013025a86e49b74fc7c750df5290e5f3b1672279aad70a29890fe2a98921cb38e8c3267636007b9b1c555fa6e7fe83c03534281496da0ce37dbf5e203f30b2e2ad1e03fbb379e4fc8f0a86350518982d88551b88fab7e70ea9e59a3fcbbf5ed8f8dbf81d1d8e18eca24c3fb91f849e06b128e261f0ada0e30c71cbcb14a581161a04ab2283497887e694da4c4f58ae5745097b6273ca1037b62e4694ab92f2bdb6a64f4828b0bcb478ef6ba19d246434c65ce36ea0e9ebdbf129a0f561422ea1c7b512bec0b9dc6f1b4023c78adf4be51f6f88fbc3b3b7a69324aeb60134fac96ed8a9694a2ecb118436d98c39fb7be2ba0204716e4e1d0f1df5235cafc5de4b4631654f969fe49fc0cb81fe89f280a40a2452621af2c9c2853d27fc8ee391675519c6644f1ae9ca9d7f6dfa2d03dcf2c0b069f3e075f0d2d929f0620ac87677eeebac22bc94511edd20f1c999568779162b8f22068288415f795a2fabe2fa7c842595246cf40c26ac9b8f4913839da77482d6031d305c4d2dfcc5997d95c3974c5f3c79e36b95b825dbb8e82fdd23cfe5f719e003d6e891e7f1725774458265693b39307a5cc382694dea2e11a13feecc965ba268857fd9f42cb6870bfe5ef2c82407276e33117cde883fec79c0177a20caddb491a90e8bbd21e6438269ba5ce0984dc4302d041798e66141852de0b283a5c55685ab974e8a34a641427b0a4454f2dc3d1b299a2998a4e891b6826d69904164a33a4d8ec4f4f32f36da0a609e09b713e5afd95c0a974a24caae50b59d99c64f3905c2784dbbfccb5807943e1ccf43fd7ea1dde84b3ce747bd0d7aaba2196d3280cebb965a4b03dabf334f4f118b0af8a2ca3aae14be169ff79b1fc9c88edeeeb13f2ac7f2c94e153ca96679d2fd6bc95bd62d9d95cf2b09b20ab9509c00decc690b36ebb831f7ee2b77ffc366f490f870fa2d6f43bd407edfac495e9967b61e42b9831566e7249863300a5087bd47db1d06051b8ed5dbd5f67dec2ca43c96d9b200198ebdef0ca99daf8a25d9ef9be256b3fbf23820ff1ec4c38c03763d87c01f96554898fdb759104c54d2d6758314c318bb2c0e6e89a5f8d8486bcddb015c6ab581bdc535083d40fe02d0e5811a58123032c2c2efc579e63bb5dc2d7ac2d9c48448e53454569f4082c1ba6faed3cf7b15c05bf99ff09840aa6454cfa8c2fdc2acc771b6798c1fa448bb5812d75806c944631289ce923b180b94c8bb04eae38282b8399b19951ec8f745daa4e867d544ca3afd0c37a7279feb9381aa85eb748bb4a9ab25eb2787d4a8baedcc5a5e57c4379e0d0b6aa386d1c64387ce50a5d86ec2bcd640de9bb411e08d2e3aad5a8cc1fe4a6ab1ad718adce9f43272ce695add4534ec74f0e8e9d8d3a130bbccb27bd2fa7701a2e03b8751a798e05eb320e8a7e51a5d787f5817f5c4753731401009fd48ebd0397c9cb84a33289ff9dbfa6bd8883b095de8e96ed81965a8f5be317ffeefce2d7d4c24d26bf2dc6b97d6fcbd280c12f46913a6464ca63fb41ff40e768d4c77536fb7df819a002d3194c36354cb47785e549fb3042ef362aeb2d00432487083ce71f09d867ad93130dddae3aaab020b87056d2810cfb2fef010db8a3c207001ec08ce49a8d5af128a953eeaea1822c7b6d740597c38a60e7c6b8d313087c30f7056e30917b04d93326c58a99fa6ab36e3455d6350c71051853e63e7fdedd093ca7cbd3240860b40df1a55d93216cec9cd95ce3637e6f425b353946b375efd9ee56709c586b7377ec954c49172695bebad1e8dd43ae9cdd309ed35269075ee25a0ac5d48eed64cb9a0720ec94d641f22d0e22c914d9ac36fbb5edbe6dc39dc529b26f49d9723a73840e60170e3bb957c3a34c12e4028c0f68486680d05cb7cb88d259393e19104eb023bf642471a785b1c714f9f349bce34f6c6857f56e50d76b17b0b432d1d299786d4e28a31e94f4ab8b34776d4947b99fd014b4f0631b6b9556020a16ed9b6a5ecff78d6e321cf5f60618cf2f4bc8753df386005052e9b62b98e7338db5a6e58e2aab520c096911dfa3eb9dc3fa234cf071989fb44f19405380e16c884c2e6d4ae71dbb04c33dde4dbd05c5c0d1fa44cfce4c9104c31d7e1c71ba197c429a638b44216fa0596fbad5d57607f82ae8a4d763afbe513e08d1f0d1bf3df9f9b4551ed8c24e9d85e39b8ac535b91e4fc1a7cb9e2c9c9a0de0039f143704a8e793f58611bd5b421dead481a9ad080909a178fd473a939c79d9f2632284dcc67da2ac899bc514371a5b8dd627aa421a72ebe4f2ce73d7f1c85374ac43fdfa8763c29ba85dc1f2506d250a5cc2cb5cc7ba25452d075f6366a35294f383e41427d7b69e02599c5c6966057d30f1cd41fa7df7bcf0826a973a76d50d6c7dbd89b91e42b9452d48354fba3bd995595c13de68d1a12b56028b97b2110fb9c4cbb39684417976b2b9dfc215b4db50937ab25c977984d4a7a1006266154e2b53ab4448c7721920b1bac2b7abcb76a51aff44d489f4eac4b67b799426605f430cce88e16106c2e77784a7a579939b4a7aa65f54ca5ede0c56b70d8197ef8603ef9cbbe234d23b3c381f97998fbb0c91ed64d1f6bc7f1c394ec6acf4c76a5495a70e0ca0d182c57cdfe542fe6f3b14a90cf0db75e8b644c9df730e9783c0c4e385b23d0662c97b6206db0b594ff8020bcfb7cb339e21d39decfa069b8dd827a23f62e3fb3763f62c935aaeec47fa64bc93b25680467b0422da97ce1e77c5d5997ff2ea26521165f53ef4bcff6260e992e41d04e3559d1e758dd2a4bfb681d6188aa17401b165a896e62c0db7de72ff2345e32a36ecb381d1faac356b2b7e91cc388ba6201fcbbc9396f4cf0aea1674a71c9ed1064f98668cbca558d7850bae225cd5c67d99524d10635495b3faa9866f1e25a270602b65dae035affa52664f99456d4d4b9fbb03c691b8947d0aa6d4c7dd88bb433cddaefc0b89883ade435fcf0b0e69b478683e728006286f44e61c909493c3f870623a78d495153408d6a660048d03713f4d1d3d1282766988f91d266557b57a8c41a72424ec41d05f1436a047ba16b7a9a7fd18639bd6808df3ddd251c1d41718b6c38c65cd29a93890ce8a4ccdcf35714996922573666133b8ba58f479b70e072036520ba3adc518882dfefde4c8738ad8b82c4e05756f9973c96266717514a96a21a2fd9ed000b28270e56240429f502a64f3180b2036e5777e824d4e06c5dc631fa4d1f3210c156a2d6df7917e6f09e297d7b82bb58176dd0c0bac19b96d12f20d60de884c43b9a3e61e703bb7092fc4b2736aec58302470da2e9def90457ff31e195ffa87f71ab238eb8e7a3e3eb3257545a607bfdfe5c95905042cc18ac0f293105e19ff05f5d77ba668ba95d2637381cc0bb20bec5702cd736641a2b054e2fad3a78d9b42acaa8bfa16fb2c0990d6ba62eabb44ecf0282205d292e82cd63cd9685c3f649f6fa1a6e07cd1d5da7895e40593957c8928188d47da82638054d5f4bd2404f8a3656ad9e4e055f470fa35d9d0bc41abe7ae928fe64f53f62cfd9bfd300208d2bdc809e49368160e01280ade4bd11bd3d65a8b285701c303c792c517455f22749c21b61b46cdd1a2ef290861c1f3b31f230f374f82d9ab8f1ee1adf1b3f0b43e536e6a4310eaa83327d78e4cb","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"2035dd2fcaf6c05d14c11c2dfc7a9e57"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
